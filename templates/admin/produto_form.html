{% extends "base.html" %}

{% block title %}Lume - Administração - {% if produto %}Editar{% else %}Novo{% endif %} Produto{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="mb-6">
        <a href="{{ url_for('admin_produtos') }}" class="texto-font text-[#C9A24B] hover:text-[#B8923A] transition">
            ← Voltar para Produtos
        </a>
    </div>

    <h1 class="titulo-font text-3xl font-bold text-white mb-8">
        {% if produto %}Editar{% else %}Novo{% endif %} Produto
    </h1>

    <div class="bg-[#383732] border border-[#C9A24B] rounded-lg p-8">
        <form method="POST" action="{% if produto %}{{ url_for('admin_produto_editar', produto_id=produto.id) }}{% else %}{{ url_for('admin_produto_novo') }}{% endif %}">
            <div class="space-y-6">
                <div>
                    <label class="texto-font text-white block mb-2">Nome do Produto</label>
                    <input type="text" name="nome" value="{{ produto.nome if produto else '' }}" required
                           class="w-full px-4 py-2 bg-[#383732] border border-[#C9A24B] rounded text-white focus:outline-none focus:border-[#B8923A]">
                </div>

                <div>
                    <label class="texto-font text-white block mb-2">Descrição</label>
                    <textarea name="descricao" rows="5" required
                              class="w-full px-4 py-2 bg-[#383732] border border-[#C9A24B] rounded text-white focus:outline-none focus:border-[#B8923A]">{{ produto.descricao if produto else '' }}</textarea>
                </div>

                <div>
                    <label class="texto-font text-white block mb-2">Preço Base (R$)</label>
                    <input type="number" name="preco_base" step="0.01" min="0" value="{{ produto.preco_base if produto else '' }}" required
                           class="w-full px-4 py-2 bg-[#383732] border border-[#C9A24B] rounded text-white focus:outline-none focus:border-[#B8923A]">
                </div>

                <div>
                    <label class="texto-font text-white block mb-2">URL da Imagem</label>
                    <input type="text" name="imagem_url" value="{{ produto.imagem_url if produto else '' }}"
                           class="w-full px-4 py-2 bg-[#383732] border border-[#C9A24B] rounded text-white focus:outline-none focus:border-[#B8923A]"
                           placeholder="/static/imgs/logo.png">
                </div>

                <div>
                    <label class="flex items-center">
                        <input type="checkbox" name="ativo" {% if produto and produto.ativo %}checked{% elif not produto %}checked{% endif %} 
                               class="mr-2">
                        <span class="texto-font text-white">Produto Ativo</span>
                    </label>
                </div>

                <div class="flex gap-4">
                    <button type="submit" class="flex-1 bg-[#C9A24B] text-[#383732] px-6 py-3 rounded hover:bg-[#B8923A] transition texto-font font-semibold">
                        {% if produto %}Atualizar{% else %}Cadastrar{% endif %}
                    </button>
                    <a href="{{ url_for('admin_produtos') }}" 
                       class="flex-1 text-center bg-[#383732] border border-[#C9A24B] text-[#C9A24B] px-6 py-3 rounded hover:bg-[#2a2a26] transition texto-font font-semibold">
                        Cancelar
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}

